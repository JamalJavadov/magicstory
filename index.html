<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MagicStory.az - U≈üaƒüƒ±nƒ±zƒ±n X√ºsusi Hekay…ôsi</title>
  <style>
    :root {
      --bg-grad: linear-gradient(135deg,#FFA500 0%,#FFB900 25%,#FFC900 50%,#FFD700 75%,#FFE100 100%);
      --primary: #FF9B00;
      --primary-soft: rgba(255,155,0,0.55);
      --primary-strong: rgba(255,155,0,0.8);
      --gold: #FFD700;
      --text-dark: #1a1a2e;
      --text-soft: #2a2a3e;
      --card-bg: rgba(255,255,255,0.92);
      --glass-bg: rgba(255,255,255,0.32);
      --border-soft: rgba(255,255,255,0.45);
      --shadow-soft: 0 18px 45px rgba(0,0,0,0.12);
      --radius-lg: 32px;
      --radius-xl: 40px;
      --radius-pill: 999px;
      --transition-fast: 0.25s ease-out;
      --transition-bounce: 0.45s cubic-bezier(0.34,1.56,0.64,1);
      --max-width: 1120px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      width: 100%;
      min-height: 100%;
      scroll-behavior: smooth;
    }

    body {
      font-family: system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
      background: var(--bg-grad);
      color: var(--text-dark);
      overflow-x: hidden;
      position: relative;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at 18% 24%,rgba(255,201,0,0.22) 0,transparent 55%),
        radial-gradient(circle at 80% 72%,rgba(255,155,0,0.24) 0,transparent 55%);
      pointer-events: none;
      z-index: 0;
      animation: bgPulse 8s ease-in-out infinite;
    }

    @keyframes bgPulse {
      0%,100%{opacity:1}
      50%{opacity:.85}
    }

    .page-shell {
      width: 100%;
      min-height: 100vh;
      position: relative;
      z-index: 1;
      display: flex;
      justify-content: center;
    }

    .container {
      width: 100%;
      max-width: var(--max-width);
      padding: clamp(16px,4vw,28px) clamp(14px,4vw,32px) 56px;
      margin: 0 auto;
    }

    .progress-bar {
      position: fixed;
      inset-inline-start: 0;
      inset-block-start: 0;
      width: 0%;
      height: 4px;
      background: linear-gradient(90deg,#FF9B00,#FFC900,#FFD700);
      z-index: 40;
      box-shadow: 0 2px 10px rgba(255,155,0,0.6);
      transition: width .3s ease;
    }

    .floating-shapes {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
    }

    .shape {
      position: absolute;
      opacity: .2;
      border-radius: 50%;
      animation: floatShape 30s infinite ease-in-out;
      will-change: transform;
    }

    .shape.shape-1 {
      top: 12%;
      left: 6%;
      width: min(160px,26vw);
      height: min(160px,26vw);
      background: radial-gradient(circle,rgba(255,225,0,.75),transparent);
      animation-delay: 0s;
    }

    .shape.shape-2 {
      top: 55%;
      right: 6%;
      width: min(130px,22vw);
      height: min(130px,22vw);
      background: radial-gradient(circle,rgba(255,201,0,.75),transparent);
      animation-delay: 10s;
    }

    .shape.shape-3 {
      bottom: 18%;
      left: 12%;
      width: min(180px,28vw);
      height: min(180px,28vw);
      background: radial-gradient(circle,rgba(255,155,0,.75),transparent);
      animation-delay: 20s;
    }

    @keyframes floatShape {
      0%,100%{transform:translate(0,0) scale(1)}
      33%{transform:translate(32px,-40px) scale(1.15)}
      66%{transform:translate(-26px,32px) scale(.92)}
    }

    .puzzle-counter {
      position: fixed;
      inset-block-start: 10px;
      inset-inline-end: 10px;
      z-index: 50;
      background: rgba(255,255,255,0.96);
      padding: 8px 16px;
      border-radius: var(--radius-pill);
      border: 2px solid rgba(255,201,0,0.5);
      box-shadow: 0 8px 30px rgba(0,0,0,0.18);
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: clamp(.8rem,2.2vw,.95rem);
      font-weight: 800;
      color: var(--text-dark);
      max-width: min(220px,60vw);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .puzzle-counter span:first-child { flex-shrink: 0; }

    .puzzle-counter.complete {
      background: linear-gradient(135deg,#FF9B00,#FFC900);
      color: #fff;
      border-color: rgba(255,255,255,0.85);
      animation: celebrate .6s ease-out;
    }

    @keyframes celebrate {
      0%,100%{transform:scale(1)}
      50%{transform:scale(1.1)}
    }

    section {
      width: 100%;
      padding-block: clamp(48px,10vh,80px);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      opacity: 0;
      transform: translateY(60px) scale(.97);
      transition: opacity .7s ease-out,transform .7s var(--transition-bounce);
    }

    section.visible {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    section.locked {
      filter: grayscale(1) blur(4px);
      pointer-events: none;
    }

    .puzzle-lock {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: clamp(2.4rem,10vw,3.4rem);
      opacity: .3;
      z-index: 2;
      pointer-events: none;
    }

    section.visible .puzzle-lock { display: none; }

    .hero {
      text-align: center;
      padding-block: clamp(60px,12vh,90px);
      opacity: 1 !important;
      transform: none !important;
      filter: none !important;
      pointer-events: auto;
    }

    .hero-inner {
      max-width: 640px;
      margin-inline: auto;
    }

    .hero-logo {
      width: clamp(90px,16vw,120px);
      height: clamp(90px,16vw,120px);
      margin: 0 auto 18px;
      font-size: clamp(64px,11vw,96px);
      line-height: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 32px;
      background: radial-gradient(circle at 30% 20%,#fff 0,#FFE9A6 40%,#FFBD4A 100%);
      box-shadow: 0 20px 55px var(--primary-soft);
      animation: heroFloat 3.2s ease-in-out infinite;
      position: relative;
    }

    @keyframes heroFloat {
      0%,100%{transform:translateY(0)}
      50%{transform:translateY(-10px)}
    }

    .hero-logo::after {
      content: "";
      position: absolute;
      inset: -12px;
      border-radius: 40px;
      border: 2px solid rgba(255,255,255,0.7);
      box-shadow: 0 0 0 4px rgba(255,201,0,0.22);
      animation: haloPulse 2.8s ease-in-out infinite;
      pointer-events: none;
    }

    @keyframes haloPulse {
      0%,100%{transform:scale(1);opacity:.85}
      50%{transform:scale(1.06);opacity:.45}
    }

    .hero-title {
      font-size: clamp(2.3rem,5.2vw,3.1rem);
      font-weight: 900;
      letter-spacing: .03em;
      margin-bottom: 8px;
      text-shadow: 0 3px 10px rgba(255,155,0,0.45);
    }

    .hero-subtitle-main {
      font-size: clamp(1.1rem,3.2vw,1.6rem);
      font-weight: 700;
      color: var(--text-soft);
      margin-bottom: 14px;
    }

    .hero-pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 18px;
      border-radius: var(--radius-pill);
      background: rgba(255,255,255,0.45);
      border: 2px solid rgba(255,255,255,0.8);
      box-shadow: 0 12px 30px rgba(0,0,0,0.16);
      font-size: clamp(.9rem,2.4vw,1.05rem);
      font-weight: 700;
      color: var(--text-soft);
      margin-top: 10px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      animation: pillFloat 4.6s ease-in-out infinite;
    }

    @keyframes pillFloat {
      0%,100%{transform:translateY(0)}
      50%{transform:translateY(-6px)}
    }

    .step-card {
      width: 100%;
      max-width: 920px;
      margin-inline: auto;
      background: var(--glass-bg);
      border-radius: var(--radius-xl);
      border: 1px solid var(--border-soft);
      box-shadow: var(--shadow-soft);
      padding: clamp(26px,5vw,34px) clamp(18px,4.4vw,36px);
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      position: relative;
      overflow: hidden;
      transition: transform .6s ease,box-shadow .6s ease;
    }

    .step-card::before {
      content: "";
      position: absolute;
      inset-inline: -40%;
      inset-block-start: -60%;
      height: 220%;
      background: linear-gradient(60deg,transparent,rgba(255,255,255,.55),transparent);
      transform: translateX(-120%);
      animation: shimmer 5s infinite;
      opacity: .7;
      pointer-events: none;
    }

    .step-card::after {
      content: "";
      position: absolute;
      inset: 12px;
      border-radius: calc(var(--radius-xl) - 10px);
      background: radial-gradient(circle at 10% 10%,rgba(255,255,255,0.5),transparent 60%);
      opacity: 0;
      transition: opacity .6s ease;
      pointer-events: none;
    }

    section.visible .step-card {
      transform: translateY(-6px);
      box-shadow: 0 28px 60px rgba(0,0,0,0.18);
      animation: cardFloat 6s ease-in-out infinite;
    }

    section.visible .step-card::after {
      opacity: .9;
    }

    @keyframes cardFloat {
      0%,100%{transform:translateY(-6px)}
      50%{transform:translateY(-12px)}
    }

    @keyframes shimmer {
      0%{transform:translateX(-120%)}
      40%{transform:translateX(120%)}
      100%{transform:translateX(120%)}
    }

    .step-header {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 16px;
      flex-wrap: wrap;
    }

    .step-number {
      flex-shrink: 0;
      width: clamp(60px,13vw,80px);
      height: clamp(60px,13vw,80px);
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%,#FFB52E 0,#FF9B00 40%,#FF8A00 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: clamp(1.7rem,4.2vw,2.2rem);
      font-weight: 900;
      color: #fff;
      border: 3px solid rgba(255,255,255,0.85);
      box-shadow: 0 10px 30px rgba(255,155,0,0.7);
      position: relative;
      overflow: hidden;
    }

    .step-number::before {
      content: "";
      position: absolute;
      inset: 6px;
      border-radius: 50%;
      border: 2px solid rgba(255,255,255,0.4);
    }

    .step-number::after {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: 50%;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.35);
      opacity: 0;
      transform: scale(0.7);
      transition: opacity .35s ease,transform .35s ease;
    }

    section.visible .step-number::after {
      opacity: 1;
      transform: scale(1);
    }

    .step-title-wrap {
      display: flex;
      flex-direction: column;
      gap: 6px;
      min-width: 0;
    }

    .step-title {
      font-size: clamp(1.4rem,2.8vw,1.9rem);
      font-weight: 900;
      color: var(--text-dark);
      text-shadow: 0 2px 6px rgba(255,201,0,0.35);
    }

    .step-badge {
      align-self: flex-start;
      padding: 6px 14px;
      border-radius: var(--radius-pill);
      background: linear-gradient(135deg,#FFD700,#FFF6B5);
      border: 1px solid rgba(255,255,255,0.9);
      box-shadow: 0 8px 24px rgba(0,0,0,0.16);
      font-size: clamp(.78rem,2vw,.9rem);
      font-weight: 800;
      color: var(--text-dark);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .step-description {
      font-size: clamp(.95rem,2.3vw,1.05rem);
      line-height: 1.7;
      color: var(--text-soft);
      font-weight: 500;
      margin-bottom: 16px;
    }

    .step-body {
      display: grid;
      grid-template-columns: minmax(0,1.3fr) minmax(0,1fr);
      gap: clamp(16px,3.6vw,26px);
      align-items: stretch;
      margin-top: 10px;
    }

    @media (max-width: 768px) {
      .step-body {
        grid-template-columns: minmax(0,1fr);
      }
    }

    .image-placeholder {
      width: 100%;
      border-radius: calc(var(--radius-lg) + 4px);
      border: 3px solid rgba(255,255,255,0.8);
      background: rgba(255,255,255,0.65);
      box-shadow: 0 18px 45px rgba(0,0,0,0.16);
      overflow: hidden;
      position: relative;
      aspect-ratio: 4/3;
    }

    @media (max-width: 480px) {
      .image-placeholder {
        aspect-ratio: 16/9;
        border-radius: 24px;
      }
    }

    .image-placeholder img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transform-origin: center;
      transition: transform .5s ease;
    }

    .image-placeholder::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 10% 0,rgba(255,255,255,0.35),transparent 55%);
      pointer-events: none;
    }

    .image-placeholder::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg,transparent,rgba(255,255,255,0.35),transparent);
      transform: translateX(-120%);
      animation: imageSheen 6s infinite;
      pointer-events: none;
    }

    @keyframes imageSheen {
      0%{transform:translateX(-120%)}
      45%{transform:translateX(120%)}
      100%{transform:translateX(120%)}
    }

    .step-card:hover .image-placeholder img {
      transform: scale(1.04);
    }

    .icon-grid {
      display: grid;
      grid-template-columns: repeat(3,minmax(0,1fr));
      gap: 10px;
      width: 100%;
    }

    @media (max-width: 480px) {
      .icon-grid { gap: 8px; }
    }

    .icon-item {
      background: rgba(255,255,255,0.9);
      border-radius: 22px;
      padding: 12px 8px;
      border: 1px solid rgba(255,255,255,0.9);
      box-shadow: 0 10px 26px rgba(0,0,0,0.12);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;
      transition: transform var(--transition-bounce),box-shadow .3s ease,background .3s ease;
      transform: translateY(8px) scale(.98);
      opacity: .7;
    }

    section.visible .icon-item {
      transform: translateY(0) scale(1);
      opacity: 1;
    }

    section.visible .icon-item:nth-child(1){transition-delay:.1s}
    section.visible .icon-item:nth-child(2){transition-delay:.2s}
    section.visible .icon-item:nth-child(3){transition-delay:.3s}

    .icon-item:hover {
      transform: translateY(-4px) scale(1.03);
      box-shadow: 0 16px 34px rgba(0,0,0,0.18);
      background: #fff;
    }

    .icon-symbol {
      font-size: clamp(1.7rem,4vw,2.1rem);
    }

    .icon-label {
      font-size: clamp(.78rem,1.9vw,.9rem);
      font-weight: 700;
      color: var(--text-dark);
      text-align: center;
    }

    .process-line-wrap {
      width: 100%;
      display: flex;
      justify-content: center;
      padding-block: clamp(14px,3vh,26px);
    }

    .process-line {
      width: 6px;
      max-height: 120px;
      height: clamp(60px,12vh,110px);
      border-radius: 999px;
      background: linear-gradient(180deg,#FFE100,#FF9B00);
      position: relative;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(255,155,0,0.45);
    }

    .process-line::after {
      content: "";
      position: absolute;
      inset-inline: 0;
      height: 55%;
      background: rgba(255,255,255,0.8);
      animation: lineFlow 2.4s infinite;
    }

    @keyframes lineFlow {
      0%{top:-60%}
      100%{top:140%}
    }

    .price-section {
      text-align: center;
    }

    .price-grid {
      width: 100%;
      max-width: 720px;
      margin-inline: auto;
      display: grid;
      grid-template-columns: minmax(0,1fr);
    }

    .price-box {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      padding: clamp(22px,4.5vw,30px) clamp(20px,4.8vw,32px);
      border: 1px solid rgba(255,201,0,0.4);
      box-shadow: 0 22px 55px rgba(0,0,0,0.18);
      position: relative;
      overflow: hidden;
    }

    .badge {
      position: absolute;
      inset-block-start: 12px;
      inset-inline-end: 18px;
      padding: 6px 14px;
      border-radius: var(--radius-pill);
      background: linear-gradient(135deg,#FFD700,#FFF4A8);
      border: 1px solid rgba(255,255,255,0.95);
      font-size: clamp(.78rem,2vw,.9rem);
      font-weight: 900;
      color: var(--text-dark);
      box-shadow: 0 12px 26px rgba(0,0,0,0.2);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      z-index: 2;
    }

    .price-title {
      font-size: clamp(1.3rem,2.6vw,1.7rem);
      font-weight: 900;
      margin-top: 10px;
      margin-bottom: 4px;
      color: var(--text-dark);
    }

    .price-subtitle {
      font-size: clamp(.95rem,2.2vw,1.05rem);
      color: var(--text-soft);
      font-weight: 600;
      margin-bottom: 12px;
    }

    .price-value {
      font-size: clamp(2.3rem,4vw,3rem);
      font-weight: 900;
      background: linear-gradient(135deg,#FF9B00,#FFC900);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: 8px 0 16px;
    }

    .price-currency {
      font-size: .5em;
      -webkit-text-fill-color: initial;
      color: var(--text-dark);
    }

    .features-list {
      list-style: none;
      text-align: start;
      margin: 10px 0 6px;
      color: var(--text-dark);
    }

    .features-list li {
      position: relative;
      padding-left: 30px;
      padding-block: 7px;
      font-size: clamp(.9rem,2.1vw,1rem);
      font-weight: 500;
    }

    .features-list li::before {
      content: "‚ú®";
      position: absolute;
      inset-inline-start: 0;
      inset-block-start: 2px;
      font-size: 1.1em;
    }

    .addon {
      margin-top: 14px;
      margin-bottom: 10px;
      padding: 12px 12px;
      border-radius: 22px;
      background: rgba(255,255,255,0.9);
      border: 1px solid rgba(255,201,0,0.6);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }

    .addon-text {
      text-align: start;
      flex: 1;
      min-width: 0;
    }

    .addon-text strong {
      font-size: clamp(.9rem,2.1vw,1rem);
      color: var(--text-dark);
    }

    .addon-text small {
      display: block;
      font-size: clamp(.78rem,1.9vw,.88rem);
      color: var(--text-soft);
      opacity: .9;
      margin-top: 2px;
    }

    .switch {
      position: relative;
      width: 56px;
      height: 30px;
      flex-shrink: 0;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      inset: 0;
      background: #d0d0d0;
      border-radius: 999px;
      cursor: pointer;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.08);
      transition: background .25s ease,box-shadow .25s ease;
    }

    .slider::before {
      content: "";
      position: absolute;
      width: 22px;
      height: 22px;
      inset-block-start: 4px;
      inset-inline-start: 4px;
      border-radius: 50%;
      background: #fff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.22);
      transition: transform .25s ease;
    }

    .switch input:checked + .slider {
      background: linear-gradient(135deg,#FF9B00,#FFC900);
      box-shadow: 0 6px 16px rgba(255,155,0,0.6);
    }

    .switch input:checked + .slider::before {
      transform: translateX(26px);
    }

    .cta-button {
      margin-top: 14px;
      width: 100%;
      border: none;
      border-radius: var(--radius-pill);
      padding: 14px 20px;
      background: linear-gradient(135deg,#FF9B00,#FFC900);
      color: #fff;
      font-size: clamp(1rem,2.2vw,1.1rem);
      font-weight: 900;
      cursor: pointer;
      box-shadow: 0 18px 40px rgba(0,0,0,0.28);
      text-shadow: 0 1px 2px rgba(0,0,0,0.35);
      position: relative;
      overflow: hidden;
      transition: transform var(--transition-bounce),box-shadow .3s ease;
    }

    .cta-button::after {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(circle,rgba(255,255,255,0.35),transparent 60%);
      opacity: 0;
      transform: scale(0.6);
      transition: opacity .4s ease,transform .4s ease;
    }

    .cta-button::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 0 0,rgba(255,255,255,0.4),transparent 55%);
      opacity: 0;
      transition: opacity .35s ease;
    }

    .cta-button:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 22px 46px rgba(0,0,0,0.32);
    }

    .cta-button:hover::before { opacity: 1; }

    .cta-button:hover::after {
      opacity: 1;
      transform: scale(1);
    }

    .cta-button:active {
      transform: translateY(0) scale(.99);
      box-shadow: 0 14px 30px rgba(0,0,0,0.26);
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: .01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: .01ms !important;
      }
    }

    .note {
      margin-top: 10px;
      font-size: clamp(.85rem,2vw,.95rem);
      color: var(--text-soft);
      opacity: .9;
    }

    .puzzle-piece {
      position: fixed;
      font-size: 32px;
      pointer-events: none;
      z-index: 60;
      opacity: 0;
      animation: floatPiece 3s ease-out forwards;
    }

    @keyframes floatPiece {
      0%{opacity:0;transform:translateY(100vh) scale(0)}
      40%{opacity:1}
      100%{opacity:0;transform:translateY(-20vh) scale(1.3)}
    }

    .confetti {
      position: fixed;
      width: 8px;
      height: 12px;
      border-radius: 2px;
      pointer-events: none;
      z-index: 55;
      animation: confettiFall 3s ease-out forwards;
    }

    @keyframes confettiFall {
      0%{transform:translateY(-100vh) rotate(0deg);opacity:1}
      100%{transform:translateY(100vh) rotate(540deg);opacity:0}
    }

    @keyframes sparkleFloat {
      0%{opacity:1;transform:translateY(0) scale(0)}
      50%{opacity:1;transform:translateY(-50px) scale(1.3)}
      100%{opacity:0;transform:translateY(-100px) scale(0.2)}
    }

    @media (max-width: 600px) {
      .container {
        padding-inline: 12px;
      }

      .step-card {
        border-radius: 24px;
        padding-inline: 16px;
        padding-block: 22px 22px;
      }

      .step-header {
        gap: 12px;
      }

      .process-line-wrap {
        padding-block: 10px 18px;
      }

      .process-line {
        height: 70px;
      }

      .price-box {
        border-radius: 26px;
        padding-inline: 18px;
      }

      .puzzle-counter {
        inset-block-start: 8px;
        inset-inline-end: 8px;
      }
    }

    @media (max-width: 380px) {
      .step-number {
        width: 54px;
        height: 54px;
        font-size: 1.6rem;
        border-width: 3px;
      }

      .step-card {
        padding-block: 20px;
      }
    }

    @media (max-width: 400px) {
      .hero-title { font-size: 2rem; }
      .hero-subtitle-main { font-size: 1rem; }
      .hero-logo { margin-bottom: 10px; }
    }

    @media (min-width: 1024px) {
      .hero-inner { text-align: center; }
      .hero {
        padding-block: 80px 60px;
      }
    }
  </style>
</head>
<body>
  <div class="progress-bar" id="progressBar"></div>

  <div class="floating-shapes" aria-hidden="true">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
  </div>

  <div class="puzzle-counter" id="puzzleCounter" aria-live="polite">
    <span>üß©</span>
    <span id="counterText">0/5</span>
  </div>

  <div class="page-shell">
    <main class="container">
      <section class="hero visible" aria-label="MagicStory.az t…ôqdimatƒ±">
        <div class="hero-inner">
          <div class="hero-logo" aria-hidden="true">üìñ</div>
          <h1 class="hero-title">MagicStory.az</h1>
          <p class="hero-subtitle-main">U≈üaƒüƒ±nƒ±z Hekay…ônin Ba≈ü Q…ôhr…ômanƒ±dƒ±r!</p>
          <div class="hero-pill">
            <span>üåü</span>
            <span>100% x√ºsusi v…ô f…ôrdi hekay…ô kitablarƒ±</span>
          </div>
        </div>
      </section>

      <section class="step-section locked" data-step="1" id="step1">
        <div class="puzzle-lock">üîí</div>
        <article class="step-card" aria-labelledby="step1-title">
          <header class="step-header">
            <div class="step-number">1</div>
            <div class="step-title-wrap">
              <h2 class="step-title" id="step1-title">U≈üaƒüƒ±nƒ±z √ú√ß√ºn X√ºsusi Hekay…ô</h2>
              <div class="step-badge">üéØ Yalnƒ±z Sizin U≈üaƒüƒ±nƒ±z √ú√ß√ºn</div>
            </div>
          </header>
          <p class="step-description">
            U≈üaƒüƒ±nƒ±zƒ±n adƒ±, sevimli heyvanlarƒ±, x…ôyallarƒ± v…ô arzularƒ± …ôsasƒ±nda tam f…ôrdi hekay…ô hazƒ±rlanƒ±r.
            H…ôr c√ºml…ô, h…ôr s…ôhif…ô yalnƒ±z sizin √∂vladƒ±nƒ±z √º√ß√ºn x√ºsusi olaraq yazƒ±lƒ±r.
          </p>
          <div class="step-body">
            <div class="image-placeholder">
              <img src="images/step1.png" alt="U≈üaƒüa g√∂r…ô f…ôrdil…ô≈üdirilmi≈ü hekay…ô kitabƒ±" loading="lazy" />
            </div>
            <div class="icon-grid" aria-hidden="true">
              <div class="icon-item">
                <div class="icon-symbol">üë∂</div>
                <div class="icon-label">U≈üaƒüƒ±nƒ±zƒ±n adƒ±</div>
              </div>
              <div class="icon-item">
                <div class="icon-symbol">ü¶Ñ</div>
                <div class="icon-label">Sevimli personajlar</div>
              </div>
              <div class="icon-item">
                <div class="icon-symbol">üí´</div>
                <div class="icon-label">X√ºsusi mac…ôra</div>
              </div>
            </div>
          </div>
        </article>
      </section>

      <div class="process-line-wrap" aria-hidden="true">
        <div class="process-line"></div>
      </div>

      <section class="step-section locked" data-step="2" id="step2">
        <div class="puzzle-lock">üîí</div>
        <article class="step-card" aria-labelledby="step2-title">
          <header class="step-header">
            <div class="step-number">2</div>
            <div class="step-title-wrap">
              <h2 class="step-title" id="step2-title">U≈üaƒüƒ±nƒ±zƒ±n ≈û…ôkli il…ô Dizayn</h2>
              <div class="step-badge">üì∏ Real ≈ü…ôkill…ô ill√ºstrasiya</div>
            </div>
          </header>
          <p class="step-description">
            U≈üaƒüƒ±nƒ±zƒ±n real ≈ü…ôkli hekay…ônin s…ôhif…ôl…ôrin…ô inteqrasiya olunur v…ô o, kitabƒ±n
            …ôsl ba≈ü q…ôhr…ômanƒ±na √ßevrilir. H…ôr s…ôhif…ô pe≈ü…ôkar dizaynerl…ôr t…ôr…ôfind…ôn x√ºsusi
            olaraq t…ôrtib edilir.
          </p>
          <div class="step-body">
            <div class="image-placeholder">
              <img src="images/step2.png" alt="U≈üaƒüƒ±n ≈ü…ôkli il…ô dizayn edilmi≈ü hekay…ô" loading="lazy" />
            </div>
            <div class="icon-grid" aria-hidden="true">
              <div class="icon-item">
                <div class="icon-symbol">üì∑</div>
                <div class="icon-label">Real foto</div>
              </div>
              <div class="icon-item">
                <div class="icon-symbol">üé®</div>
                <div class="icon-label">Pe≈ü…ôkar dizayn</div>
              </div>
              <div class="icon-item">
                <div class="icon-symbol">‚≠ê</div>
                <div class="icon-label">Ba≈ü q…ôhr…ôman ‚Äì u≈üaƒüƒ±nƒ±z</div>
              </div>
            </div>
          </div>
        </article>
      </section>

      <div class="process-line-wrap" aria-hidden="true">
        <div class="process-line"></div>
      </div>

      <section class="step-section locked" data-step="3" id="step3">
        <div class="puzzle-lock">üîí</div>
        <article class="step-card" aria-labelledby="step3-title">
          <header class="step-header">
            <div class="step-number">3</div>
            <div class="step-title-wrap">
              <h2 class="step-title" id="step3-title">Premium Keyfiyy…ôtli √áap</h2>
              <div class="step-badge">üíé L√ºks materiallar</div>
            </div>
          </header>
          <p class="step-description">
            Y√ºks…ôk sƒ±xlƒ±qlƒ± premium kaƒüƒ±z, parlaq v…ô canlƒ± r…ôngl…ôr, m√∂hk…ôm cild ‚Äì
            b√ºt√ºn bunlar kitabƒ±nƒ±zƒ± h…ôm oxumaq, h…ôm d…ô ill…ôrl…ô saxlanƒ±lacaq xatir…ô
            kimi m√ºk…ômm…ôl edir.
          </p>
          <div class="step-body">
            <div class="image-placeholder">
              <img src="images/step3.png" alt="Premium keyfiyy…ôtli u≈üaq kitabƒ± √ßapƒ±" loading="lazy" />
            </div>
            <div class="icon-grid" aria-hidden="true">
              <div class="icon-item">
                <div class="icon-symbol">üìÑ</div>
                <div class="icon-label">Premium kaƒüƒ±z</div>
              </div>
              <div class="icon-item">
                <div class="icon-symbol">üåà</div>
                <div class="icon-label">HD r…ôngl…ôr</div>
              </div>
              <div class="icon-item">
                <div class="icon-symbol">üí™</div>
                <div class="icon-label">M√∂hk…ôm cild</div>
              </div>
            </div>
          </div>
        </article>
      </section>

      <div class="process-line-wrap" aria-hidden="true">
        <div class="process-line"></div>
      </div>

      <section class="step-section locked" data-step="4" id="step4">
        <div class="puzzle-lock">üîí</div>
        <article class="step-card" aria-labelledby="step4-title">
          <header class="step-header">
            <div class="step-number">4</div>
            <div class="step-title-wrap">
              <h2 class="step-title" id="step4-title">X√ºsusi H…ôdiyy…ô Qabla≈üdƒ±rma</h2>
              <div class="step-badge">üéÅ Sehrli t…ôqdimat anƒ±</div>
            </div>
          </header>
          <p class="step-description">
            Kitab x√ºsusi dizayn edilmi≈ü h…ôdiyy…ô qutusu il…ô t…ôqdim olunur. Qutunun
            a√ßƒ±lmasƒ± bel…ô u≈üaƒüƒ±nƒ±z √º√ß√ºn unudulmaz bir an v…ô ki√ßik bayrama √ßevrilir.
          </p>
          <div class="step-body">
            <div class="image-placeholder">
              <img src="images/step5.png" alt="X√ºsusi h…ôdiyy…ô qutusunda t…ôqdim olunan kitab" loading="lazy" />
            </div>
            <div class="icon-grid" aria-hidden="true">
              <div class="icon-item">
                <div class="icon-symbol">üéÄ</div>
                <div class="icon-label">Dizayn qutu</div>
              </div>
              <div class="icon-item">
                <div class="icon-symbol">üíù</div>
                <div class="icon-label">H…ôdiyy…ô paketi</div>
              </div>
              <div class="icon-item">
                <div class="icon-symbol">üéâ</div>
                <div class="icon-label">Xatir…ô …ô≈üya</div>
              </div>
            </div>
          </div>
        </article>
      </section>

      <section class="price-section step-section locked" data-step="5" id="pricing" aria-label="Qiym…ôt v…ô paket">
        <div class="puzzle-lock">üîí</div>
        <div class="price-grid">
          <article class="price-box" data-package="X√ºsusi F…ôrdi Kitab" data-base-price="30" data-price="30">
            <div class="badge">üî• ∆èn √ßox se√ßil…ôn paket</div>
            <h2 class="price-title">üìñ X√ºsusi F…ôrdi Hekay…ô Kitabƒ±</h2>
            <p class="price-subtitle">U≈üaƒüƒ±nƒ±z bu kitabda h…ôqiqi ba≈ü q…ôhr…ômandƒ±r.</p>
            <div class="price-value">
              <span id="totalPrice">30</span>
              <span class="price-currency">AZN</span>
            </div>
            <ul class="features-list">
              <li>100% f…ôrdi v…ô x√ºsusi yazƒ±lmƒ±≈ü hekay…ô</li>
              <li>U≈üaƒüƒ±nƒ±zƒ±n real ≈ü…ôkli il…ô ill√ºstrasiya</li>
              <li>Ba≈ü q…ôhr…ôman olaraq yalnƒ±z sizin √∂vladƒ±nƒ±z</li>
              <li>Premium keyfiyy…ôtli, m√∂hk…ôm √ßap</li>
              <li>H…ôdiyy…ô √º√ß√ºn x√ºsusi qabla≈üdƒ±rma</li>
            </ul>
            <div class="addon">
              <div class="addon-text">
                <strong>üíé Premium karton qabƒ±q</strong>
                <small>Daha m√∂hk…ôm v…ô l√ºks g√∂r√ºn√º≈ü ‚Äì +10 AZN</small>
              </div>
              <label class="switch" aria-label="Premium karton qabƒ±q …ôlav…ô et">
                <input type="checkbox" id="cartonCover" />
                <span class="slider"></span>
              </label>
            </div>
            <button class="cta-button" type="button">üéÅ ƒ∞NDƒ∞ Sƒ∞FARƒ∞≈û ET</button>
          </article>
        </div>
        <p class="note">‚ú® Qiym…ôtl…ôr AZN il…ô g√∂st…ôrilir. Sifari≈üd…ôn sonra sizinl…ô …ôlaq…ô saxlanƒ±lacaq.</p>
      </section>
    </main>
  </div>

  <script>
    (function() {
      const sections = document.querySelectorAll('.step-section');
      const counterText = document.getElementById('counterText');
      const puzzleCounter = document.getElementById('puzzleCounter');
      const progressBar = document.getElementById('progressBar');
      const totalSteps = sections.length;
      let unlockedSteps = 0;

      function updateUI() {
        counterText.textContent = `${unlockedSteps}/${totalSteps}`;
        progressBar.style.width = `${(unlockedSteps / totalSteps) * 100}%`;
      }

      function createPuzzlePiece() {
        const piece = document.createElement('div');
        piece.className = 'puzzle-piece';
        piece.textContent = 'üß©';
        piece.style.left = Math.random() * window.innerWidth + 'px';
        piece.style.top = window.innerHeight + 'px';
        document.body.appendChild(piece);
        setTimeout(() => piece.remove(), 3200);
      }

      function createConfetti(count) {
        const colors = ['#FFD700','#FFC900','#FF9B00','#FFE100','#FFB900'];
        for (let i = 0; i < count; i++) {
          setTimeout(() => {
            const c = document.createElement('div');
            c.className = 'confetti';
            c.style.left = Math.random() * window.innerWidth + 'px';
            c.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
            c.style.animationDuration = (2 + Math.random() * 2) + 's';
            document.body.appendChild(c);
            setTimeout(() => c.remove(), 3800);
          }, i * 40);
        }
      }

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const section = entry.target;
          if (entry.isIntersecting && section.classList.contains('locked')) {
            section.classList.remove('locked');
            section.classList.add('visible');
            unlockedSteps++;
            updateUI();
            createPuzzlePiece();
            createConfetti(18);

            if (unlockedSteps === totalSteps) {
              puzzleCounter.classList.add('complete');
              setTimeout(() => createConfetti(40), 280);
            }
          }
        });
      }, {
        threshold: 0.35,
        rootMargin: '0px 0px -120px 0px'
      });

      sections.forEach(sec => observer.observe(sec));
      updateUI();
    })();

    (function() {
      let ticking = false;
      const shapes = document.querySelectorAll('.shape');
      if (!shapes.length) return;

      window.addEventListener('scroll', () => {
        if (!ticking) {
          window.requestAnimationFrame(() => {
            const y = window.pageYOffset || 0;
            shapes.forEach((shape, index) => {
              const speed = (index + 1) * 0.18;
              const translateY = y * speed;
              shape.style.transform = `translateY(${translateY}px)`;
            });
            ticking = false;
          });
          ticking = true;
        }
      }, { passive: true });
    })();

    (function() {
      const priceBox = document.querySelector('.price-box');
      if (!priceBox) return;

      const priceEl = document.getElementById('totalPrice');
      const coverInput = document.getElementById('cartonCover');
      const basePrice = Number(priceBox.dataset.basePrice) || 30;
      const addonPrice = 10;

      function refreshPrice() {
        const total = basePrice + (coverInput.checked ? addonPrice : 0);
        priceEl.textContent = total;
        priceBox.dataset.price = String(total);
        priceBox.dataset.addons = coverInput.checked
          ? 'Premium karton qabƒ±q (+10 AZN)'
          : 'Standart qabƒ±q';
      }

      refreshPrice();
      coverInput.addEventListener('change', refreshPrice);

      const btn = priceBox.querySelector('.cta-button');
      const formatMessage = (name,total,addon) =>
        `üéâ YENƒ∞ Sƒ∞FARƒ∞≈û!\n\n` +
        `üì¶ Paket: ${name}\n` +
        `üí∞ Qiym…ôt: ${total} AZN\n` +
        `‚ú® ∆èlav…ô: ${addon}\n\n` +
        `üåê Sayt: magicstory.az\n\n` +
        `üíù U≈üaƒüƒ±nƒ±z √º√ß√ºn X√úSUSƒ∞ v…ô F∆èRDƒ∞ hekay…ô kitabƒ±!`;

      btn.addEventListener('click', (e) => {
        e.preventDefault();
        const name = priceBox.dataset.package || 'X√ºsusi F…ôrdi Kitab';
        const total = priceBox.dataset.price || String(basePrice);
        const addon = priceBox.dataset.addons || 'Standart qabƒ±q';
        (function burst(){
          const colors = ['#FFD700','#FFC900','#FF9B00'];
          for (let i = 0; i < 26; i++) {
            setTimeout(() => {
              const c = document.createElement('div');
              c.className = 'confetti';
              c.style.left = (window.innerWidth*0.2 + Math.random()*window.innerWidth*0.6) + 'px';
              c.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
              c.style.animationDuration = (2 + Math.random()*1.4) + 's';
              document.body.appendChild(c);
              setTimeout(() => c.remove(), 3600);
            }, i*30);
          }
        })();
        alert(formatMessage(name,total,addon));
      });
    })();

    (function() {
      let lastScroll = 0;
      window.addEventListener('scroll', () => {
        const current = window.pageYOffset || 0;
        if (Math.abs(current - lastScroll) > 180) {
          const sparkle = document.createElement('div');
          sparkle.textContent = '‚ú®';
          sparkle.style.position = 'fixed';
          sparkle.style.left = Math.random() * window.innerWidth + 'px';
          sparkle.style.top = Math.random() * window.innerHeight + 'px';
          sparkle.style.fontSize = '28px';
          sparkle.style.pointerEvents = 'none';
          sparkle.style.zIndex = '70';
          sparkle.style.animation = 'sparkleFloat 2s ease-out forwards';
          document.body.appendChild(sparkle);
          setTimeout(() => sparkle.remove(), 2100);
          lastScroll = current;
        }
      }, { passive: true });
    })();
  </script>
</body>
</html>
